<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Object Ownership and the Domain Graph</title>
    <link rel="StyleSheet" href="css/domain_graph.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Configuration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-datamodel_2.html#2359693">Data Model Configuration</a> : <a class="WebWorks_Breadcrumb_Link" href="domain_graph.23.1.html#2359693">The Domain Graph</a> : Object Ownership and the Domain Graph</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="2359693">Object Ownership and the Domain Graph</a></h3>
      <div class="B_-_Body"><a name="2313702">The relationships that the domain graph captures is that of ownership. </a></div>
      <h4 class="H2_-_Heading_2"><a name="2344107">Ownership Through Foreign Keys</a></h4>
      <div class="B_-_Body"><a name="2344829">Guidewire defines ownership between two objects through the use of foreign keys. In general, a foreign key from object B to object A means that B is owned by A.</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2344250">&lt;foreignkey name="</a><span class="pc_-_parameter_in_code">RootID</span>" </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2344237">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fkentity="</a><span class="pc_-_parameter_in_code">TestGraphRoot</span>" </PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2344238">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;desc="The root of the graph and parent of this child"/&gt;</a></PRE>
      <div class="B_-_Body"><a name="2344127">Thus, the direction of the foreign key indicates the direction of ownership—which object owns the other object. </a></div>
      <div class="B_-_Body"><a name="2419505">For example, in PolicyCenter, </a><span class="cv_-_computer_voice">PolicyPeriod</span> and <span class="cv_-_computer_voice">Note</span> hold this relationship. In the base configuration, there is a foreign key on <span class="cv_-_computer_voice">Note</span> that points to <span class="cv_-_computer_voice">PolicyPeriod</span>. This foreign key indicates that <span class="cv_-_computer_voice">PolicyPeriod</span> owns <span class="cv_-_computer_voice">Note</span>. </div>
      <div class="B_-_Body"><a name="2419506">A </a><span class="cv_-_computer_voice">Note</span> can also be owned by other entities, such as <span class="cv_-_computer_voice">Job</span>.</div>
      <div class="B_-_Body"><a name="2419507">The following XML code snippet from </a><span class="cv_-_computer_voice">Note.eix</span> illustrates this foreign key usage:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2419508">&lt;internalExtension</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2419509">  xmlns="http://guidewire.com/datamodel"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2419510">  entityName="</a><span class="s_-_strong">Note</span>"</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2419511">  javaClass="com.guidewire.pc.domain.note.Note"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2419512">&lt;</a><span class="s_-_strong">foreignkey</span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2419513">    columnName="PolicyPeriodID"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2419514">    desc="Associated Policy Period."</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2419515">    exportable="false"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2419516">    fkentity="</a><span class="s_-_strong">PolicyPeriod</span>"</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2419517">    name="</a><span class="s_-_strong">PolicyPeriod</span>"/&gt;</PRE>
      <h4 class="H2_-_Heading_2"><a name="2419519">Ownership Through the Effective Dated Branch</a></h4>
      <div class="B_-_Body"><a name="2419520">In PolicyCenter, an effective dated entity is owned by the root of the effective dated branch. For example, </a><span class="cv_-_computer_voice">PolicyLocation</span> is an effective dated entity owned by <span class="cv_-_computer_voice">PolicyPeriod</span>.</div>
      <div class="B_-_Body"><a name="2419521">The following XML code snippet from </a><span class="cv_-_computer_voice">PolicyLocation.eti</span> illustrates this example</div>
      <PRE class="CF_-_Code_First_Line"><a name="2419522">&lt;entity</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2419523">  ...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2419524">  </a><span class="s_-_strong">effDatedBranchType="PolicyPeriod"</span> </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2419525">  entity="PolicyLocation"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2419526">  ...</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2419527">  type="effdated"&gt;</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="2344871">Reverse Ownership in the Domain Graph</a></h4>
      <div class="B_-_Body"><a name="2313721">In some cases, a parent object has a reference to a child object instead of the reverse. The direction of ownership is the opposite to that of the foreign key. To indicate this direction of ownership, you set the </a><span class="cv_-_computer_voice">owner</span> attribute on the foreign key to <span class="cv_-_computer_voice">true</span>.</div>
      <PRE class="CF_-_Code_First_Line"><a name="2313722">&lt;foreignkey name="</a><span class="pc_-_parameter_in_code">BackwardReferenceID</span>" </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2313723">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fkentity="</a><span class="pc_-_parameter_in_code">TestGraphChildReferredByRoot</span>" </PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2313724">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;owner="</a><span class="s_-_strong">true</span>"/&gt;</PRE>
      <div class="B_-_Body"><a name="2313725">You must set this attribute with extension entities as well if you want to indicate this type of relationship.</a></div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2328428">Guidewire actively discourages the use of reverse ownership relationships. The PolicyCenter data model supports reverse ownership relationships for the rare case in which upgrading the database is unduly cumbersome or time consuming. Do not use this type of relationship as a general rule.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="2313741">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'domain_graph.23.9.html#2293623', '');" title="Working with Cycles" name="2313745">“Working with Cycles”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>