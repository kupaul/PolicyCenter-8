<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Overview of a Typical Database Import</title>
    <link rel="StyleSheet" href="css/databaseimport.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-contactsbilling.html#1818922">Importing Policy Data</a> : <a class="WebWorks_Breadcrumb_Link" href="databaseimport.38.1.html#1818922">Zone Import</a> : Overview of a Typical Database Import</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="1818922">Overview of a Typical Database Import</a></h3>
      <div class="B_-_Body"><a name="2128843">In PolicyCenter, the database staging import tools can be used to migrate zone data only. For zone import, the data comes not from a custom conversion tool but from the zone import tool instead.</a></div>
      <div class="B_-_Body"><a name="2033356">The high-level steps in a typical database import are:</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="1988157">A conversion tool converts source data to PolicyCenter format in staging tables.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2128848">In PolicyCenter, you do not need to write your own conversion tool for zone import data. Instead, use the command line tool </a><span class="cv_-_computer_voice">zone_import</span> or the SOAP API interface <span class="cv_-_computer_voice">IZoneImportAPI</span>.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1608371">Run integrity checks on staging table data using SOAP APIs or command line tools. To view the integrity checks, use the </a><span class="ui_-_UI_element">Load Integrity Checks</span> page. See <a href="javascript:WWHClickedPopup('admin', 'maintenance.13.11.html#1473671', '');" title="Info Pages">“Load Integrity Checks” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'maintenance.13.11.html#1473671', '');" title="Info Pages">System Administration Guide</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1608372">View load errors on the </a><span class="ui_-_UI_element">Load Errors</span> page. See <a href="javascript:WWHClickedPopup('admin', 'maintenance.13.11.html#1473675', '');" title="Info Pages">“Load Errors” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'maintenance.13.11.html#1473675', '');" title="Info Pages">System Administration Guide</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1608381">Fix errors and run integrity checks again, repeating some or all steps listed earlier in this list. Optionally, you can exclude some data specifying records by LUWID. This optional exclusion is not shown in the diagram that follows.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	5.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1608384">After you are sure all integrity checks succeed, load the data into operational tables using SOAP APIs or command line table import tools. PolicyCenter always runs the integrity checks again during a load request to ensure data integrity.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	6.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1608411">Check the load history on the </a><span class="ui_-_UI_element">Load History</span> page. See <a href="javascript:WWHClickedPopup('admin', 'maintenance.13.11.html#1567071', '');" title="Info Pages">“Load History” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'maintenance.13.11.html#1567071', '');" title="Info Pages">System Administration Guide</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1798251">Migrating data from the source system into PolicyCenter typically happens in the following steps:</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><span class="ri_-_run_in_header"><a name="1921350">If you changed the data model, run the server to perform upgrades</a></span> – The staging table import tools expect that the data is already in the same format as the server data.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="1608975">Back up the operational tables in database</a></span> – It is important to back up operational tables before import.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="1921145">As with any major database operation, back up all operational tables before importing.</a></div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="1921149">Put the server in maintenance run level</a></span> – Set each PolicyCenter server to the <span class="cv_-_computer_voice">maintenance</span> run level using the <span class="cv_-_computer_voice">system_tools</span> command line tool or the web services API <span class="cv_-_computer_voice">SystemToolsAPI.setRunLevel</span> method. At the maintenance run level, the system prevents new user connections, halts existing user sessions, and releases all database resources. This prohibits access to the database while you are backing up the database.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="1822388">Clear the staging tables, the error tables, and the exclusion tables</a></span> – Your conversion tool would typically do this manually, but you can also do this using web service APIs described in <a href="javascript:WWHClickedPopup('integration', 'databaseimport.38.5.html#1459953', '');" title="Table Import Tools">“Table Import Tools”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	5.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="1897737">Run PolicyCenter database consistency checks</a></span> – Database consistency checks verify that the data in your operational tables does not contain any data integrity errors. Run database consistency checks using the web services API <span class="cv_-_computer_voice">SystemToolsAPI</span> method <span class="cv_-_computer_voice">checkDatabaseConsistency</span>, or using the command line:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="1897692">system_tools -password </a><span class="pc_-_parameter_in_code">password</span> -checkdbconsistency</div>
      <div class="LP_-_List_Para"><a name="1897696">See </a><a href="javascript:WWHClickedPopup('admin', 'commandsref.14.06.html#1350094', '');" title="System Tools Command">“System Tools Command” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'commandsref.14.06.html#1350094', '');" title="System Tools Command">System Administration Guide</a></span> for more information about the command line tool. </div>
      <div class="LP_-_List_Para"><a name="2149362">If you do not run consistency checks regularly, run these a long time before converting your data. For example, plan several weeks to correct any errors you may encounter. </a></div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	6.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="2128853">Create zone data files</a></span> – Create zone data files in comma separated value (CSV) format. For more information about zone data files, see <a href="javascript:WWHClickedPopup('integration', 'databaseimport.38.2.html#1932702', '');" title="Introduction to Zone Import">“Zone Data”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	7.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="2128857">Run the zone import tool</a></span> – Run the command line tool <span class="cv_-_computer_voice">zone_import</span> or use the <span class="cv_-_computer_voice">IZoneImportAPI</span> web service to import your CSV data. For more information, see <a href="javascript:WWHClickedPopup('admin', 'commandsref.14.11.html#1775858', '');" title="Zone Import Command">“Zone Import Command” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'commandsref.14.11.html#1775858', '');" title="Zone Import Command">System Administration Guide</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	8.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="1897635">Request integrity checks from SOAP APIs or command line tools</a></span> – These tools are available as web service (SOAP) APIs, and also as command line tools, all described in <a href="javascript:WWHClickedPopup('integration', 'databaseimport.38.5.html#1459953', '');" title="Table Import Tools">“Table Import Tools”</a>. The command line tool is as follows:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="1896956">table_import -integritycheck</a></div>
      <div class="LP_-_List_Para"><a name="1896945">Your conversion tool might automatically trigger the integrity check using the SOAP APIs or command line tools after converting and loading the data into staging tables. At the time you request an integrity check, you can optionally clear error tables and exclusion tables using optional parameters. Also, you can choose to perform the integrity check as part of a load request, and if so the load proceeds only if no integrity check errors occur. </a></div>
      <div class="LP_-_List_Para"><a name="1897291">There is an optional command line flag to allow references to existing non-admin rows in the database: </a><span class="cv_-_computer_voice">-allreferencesallowed</span> (corresponding to the SOAP API boolean parameter <span class="p_-_parameter">allowRefsToExistingNonAdminRows</span>). Only use this flag (or for SOAP API, set it to <span class="cv_-_computer_voice">true</span>)&nbsp;if absolutely necessary. For example, in the rare case a policy period overlaps between the existing operational data and the data you are loading. This option flag can cause performance degradation during the check and load process. </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	9.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="1557357">PolicyCenter performs the integrity check</a></span> – An integrity check ensures the data meets PolicyCenter basic data integrity requirements. If problems are found, those records are saved in an error table. PolicyCenter runs all integrity checks and reports all errors before stopping.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	10.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="1607241">Check load errors using the Load History page</a></span> – This page is available at <span class="ui_-_UI_element">Server&nbsp;Tools</span>→ <span class="ui_-_UI_element">Info&nbsp;Pages</span> → <span class="ui_-_UI_element">Load History</span>. For more information about using this page, see <a href="javascript:WWHClickedPopup('admin', 'maintenance.13.11.html#1567071', '');" title="Info Pages">“Load History” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'maintenance.13.11.html#1567071', '');" title="Info Pages">System Administration Guide</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	11.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="1833629">Repeat integrity checks until they succeed</a></span> – Repeat integrity checks until there are no errors. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	12.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="2032366">Load staging tables into operational tables</a></span> – Eventually, integrity checks succeed for all records except for records in the exclusion table. At this point, you can load data from the staging tables into the operational tables used by PolicyCenter. Do this using one of the various web service (SOAP) APIs or command line tools for loading. See <a href="javascript:WWHClickedPopup('integration', 'databaseimport.38.5.html#1459953', '');" title="Table Import Tools">“Table Import Tools”</a>. For example, use the table import web service method <span class="cv_-_computer_voice">integrityCheckStagingTableContentsAndLoadSourceTables</span>. As PolicyCenter inserts rows into the operational tables, it also inserts results into the load history table.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1897362">There is an optional command line flag to allow references to existing non-admin rows in the database: </a><span class="cv_-_computer_voice">-allreferencesallowed</span> (corresponding to the SOAP API boolean parameter <span class="p_-_parameter">allowRefsToExistingNonAdminRows</span>). Only use this flag (or for SOAP API, set it to true) if absolutely necessary. For example, in the rare case a policy period overlaps between the existing operational data and the data you are loading. This option flag can cause performance degradation during the check and load process. </div>
      <div class="LP_-_List_Para"><a name="1897041">If you use Oracle databases, Guidewire recommends you use the Boolean parameter </a><span class="cv_-_computer_voice">updateDBStatisticsWithEstimate</span> set to <span class="cv_-_computer_voice">true</span>. This indicates to update database statistics on any table loading with estimated changes based on contents of the associated staging table. This corresponds to the optional <span class="cv_-_computer_voice">–estimateorastats</span> option for the command line tool. If you load large amounts of data, the source table grows significantly. The optimizer could choose a bad query plan based on the existing state of the database statistics. Avoid this situation by updating the database statistics to reflect the expected size of the table after the load completes. </div>
      <div class="LP_-_List_Para"><a name="1897042">In other words, for non-Oracle databases, load staging tables with the command:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1897085">table_import -integritycheckandload </a></div>
      <div class="LP_-_List_Para"><a name="1897095">For Oracle databases, load staging tables with the command:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1897116">table_import -estimateorastats -integritycheckandload</a></div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="1897129">For Oracle databases, failing to add the </a><span class="cv_-_computer_voice">-estimateorastats</span> option (or the equivalent SOAP API parameter set to <span class="cv_-_computer_voice">true</span>) extremely reduces database performance. Remember to always add this additional option for Oracle databases.</div>
      <div class="LP_-_List_Para"><a name="1921300">The server automatically removes all data from staging tables at completion. If there were errors, data remains in the staging tables.</a></div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	13.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="1897046">PolicyCenter populates user and time properties, as well as other internal or calculated values</a></span> – During import, PolicyCenter sets the value of the <span class="cv_-_computer_voice">CreateUserID</span> and <span class="cv_-_computer_voice">UpdateUserID</span> properties to the user ID of the user that authenticated the SOAP API or command line tool. To detect converted records in queries, create a PolicyCenter user called <span class="cv_-_computer_voice">Conversion</span> (or something like that) to detect these records. Creating a separate user for conversion helps diagnose potential problems later on. This user must have the SOAP Administration permission to execute the SOAP and command line APIs. Do not give this user additional privileges or access to the user interface or other portions of PolicyCenter. At this step, PolicyCenter sets the <span class="cv_-_computer_voice">CreateTime</span> and <span class="cv_-_computer_voice">UpdateTime</span> properties to the start time of the server transaction. All rows now have the same time stamp for a single import run.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	14.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="1608912">Review the load history</a></span> – Review the load history at <span class="ui_-_UI_element">Server&nbsp;Tools </span>→ <span class="ui_-_UI_element">Info&nbsp;Pages</span> → <span class="ui_-_UI_element">Load Errors</span>. Ensure that the amount of data loaded is correct. For more information, see <a href="javascript:WWHClickedPopup('admin', 'maintenance.13.11.html#1473675', '');" title="Info Pages">“Load Errors” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'maintenance.13.11.html#1473675', '');" title="Info Pages">System Administration Guide</a></span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	15.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="1610100">Update database statistics </a></span>– Particularly after a large conversion, update database statistics. You can use the following command to update statistics:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="1919088">&nbsp;&nbsp;maintenance_tools -password </a><span class="pc_-_parameter_in_code">password</span> -startprocess dbstats</div>
      <div class="LP_-_List_Para"><a name="2149697">Or, you can use the following command to update database statistics for tables exceeding the change threshold. The change threshold is defined by the </a><span class="cv_-_computer_voice">incrementalupdatethresholdpercent</span> attribute of the <span class="cv_-_computer_voice">&lt;databasestatistics&gt;</span> element within the <span class="cv_-_computer_voice">&lt;database&gt;</span> block in <span class="cv_-_computer_voice">config.xml</span>. </div>
      <div class="CS_-_Code_Single_Line"><a name="2149955">&nbsp;&nbsp;maintenance_tools -password </a><span class="pc_-_parameter_in_code">password</span> -startprocess incrementaldbstats</div>
      <div class="LP_-_List_Para"><a name="2149936">You can use the following command to get the list of SQL statements to update the statistics for all tables.</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1607465">&nbsp;&nbsp;maintenance_tools -password </a><span class="pc_-_parameter_in_code">password</span> -getdbstatisticsstatements</div>
      <div class="LP_-_List_Para"><a name="2149817">Finally, you can use the following command to get the list of SQL statements to update database statistics for tables exceeding the change threshold. </a></div>
      <div class="CS_-_Code_Single_Line"><a name="2150027">&nbsp;&nbsp;maintenance_tools -password </a><span class="pc_-_parameter_in_code">password</span> -getincrementaldbstatisticsstatements</div>
      <div class="LP_-_List_Para"><a name="2150019">See </a><a href="javascript:WWHClickedPopup('admin', 'database.05.08.html#1199461', '');" title="Configuring Database Statistics">“Configuring Database Statistics” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'database.05.08.html#1199461', '');" title="Configuring Database Statistics">System Administration Guide</a></span>.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	16.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="1618835">Update database consistency checks again</a></span> – Assuming there were no consistency errors before importing, new consistency errors after imports indicate something was wrong in the staging table data uncaught by integrity checks. See <a href="javascript:WWHClickedPopup('integration', 'databaseimport.38.3.html#1897737', '');" title="Overview of a Typical Database Import">step 5</a> for the data consistency check options. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1557405">In general, never interact with the PolicyCenter database directly. Instead, use PolicyCenter APIs to abstract access to entity data, including all data model changes. Using APIs removes the need to understand many details of the application logic governing data integrity. However, the staging tables are exceptional because conversion tools that you write can read/write staging table data before import.</a></div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="1610148">Do not directly read or write the load error tables or the exclusion tables. The only supported access to these tables is the Server Tools user interface. See </a><a href="javascript:WWHClickedPopup('admin', 'maintenance.13.02.html#1518441', '');" title="Using the Server Tools">“Using the Server Tools” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'maintenance.13.02.html#1518441', '');" title="Using the Server Tools">System Administration Guide</a></span>.</div>
      <div class="B_-_Body"><a name="1459866">PolicyCenter attempts to perform the integrity check and then load all data in the staging tables, so each import attempt must start with a clean set of tables. Therefore remove the staging data after successfully loading the data. </a></div>
      <div class="B_-_Body"><a name="1867837">As part of doing a conversion from a source system into PolicyCenter, there are several ways in which errors can be handled. During the development of the conversion tool, errors frequently occur due to incorrect mapping data from the source system into the staging tables. Errors also occur if you do not properly populating all necessary properties. Typically, fix these errors by adjusting algorithms in your conversion tool. Typically, you run many trial conversions and integrity checks with iterative algorithm changes before finally handling all issues.</a></div>
      <div class="B_-_Body"><a name="1459872">If the server flags an error that is simply a problem with the source data, then correct it directly in the staging tables using direct SQL commands. In contrast, never modify operational tables with direct SQL commands.</a></div>
      <div class="B_-_Body"><a name="1459873">Alternatively, you may want to correct errors in the source system. In that case, remove records that fail the integrity check from the staging tables. Correct the errors in the source system. Then, rerun the entire conversion process.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>